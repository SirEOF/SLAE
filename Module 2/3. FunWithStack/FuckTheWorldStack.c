/*
 FuckTheWorldStack.c
By Abatchy
gcc FuckTheWorldStack.c -fno-stack-protector -z execstack -o FuckTheWorldStack.out
*/

#include <stdio.h>
#include <string.h>

unsigned char shellcode[] = 
"\x31\xc0\xb0\x04\x31\xdb\xb3\x01\x68\x6f\x75\x2e\x0a\x68\x6e\x64\x20\x79\x68\x64\x2e\x20\x41\x68\x77\x6f\x72\x6c\x68\x74\x68\x65\x20\x68\x75\x63\x6b\x20\x31\xc9\xb1\x46\x51\x8d\x0c\x24\x31\xd2\xb2\x1c\xcd\x80\x31\xc0\xb0\x01\x31\xdb\xb3\x05\xcd\x80";

int main()
{
    printf("Shellcode size: %d\n", strlen(shellcode));
    int (*ret)() = (int(*)())shellcode;
    ret();
}
